10/09 OA
- qtValueDialog.py : for QStrings in value dialog, modified qtValueDialog/getValues l 107 and 109 added str()
- valueDialog.py : in value dialog : no reset when clik on apply button : valueDialog/OnsetNewVal added line 114 boxkeys.setVisible(False)
- config.py / core.py : for mainDir, baseDir... commented lines 20-24 in config.py, removed line 42-43 in core (not tested for exe)
- qtdialogs.py zone dialog cannot switch from transient to steady: qtdialogs/zonePanel/onTRansient, added line 482 484, 485

13/09 OA
- mtphtwriter.py : exceptions l165 change write format to %
- geometry.py : add rch.2 in blockRegular l.397 - modification l.597-599 - modification l.620-623 - modification l.629, 630, 634
- modflowUNS.py : modification l.38, 39, 124, 195
- modflowwriter.py : modification l.165, 166, 802, 807-810, 826-830

17/09 EV
- orti3dv2.pyw : changed Qtwidgets by QtGui l.2 - change app title l.11 - set app geometry at 0.8 of the screenshape l.15,16
- orti3dGui.py : added save option before closing l.171-173, 95
- orti3dGui.py : removed help in help menu l.142-144 - changed "data" by "User Species" in import menu l.111
- orti3dGui.py : changed visual stuff 
- qtTopBar.py : changed visual stuff - changed .gif by .png for button image l.241, 303
- qtParameters.py : changed visual stuff - changed .gif by .png for button image l.47, 71, 86 - In class Box() changed stuff l.82-102 to put particle button after the orthers
- parameters.py : changed .gif by .png for button image l.62, 64
- QtShow.py : changed visual stuff - changed .gif by .png for button image l.30, 35, 36
- qtVisualisation.py : removed 'print' l.366
- addin.py : onInitialChemistryDialog tstep added
- mtphwriter.py : tstep for initial chemistry added l.126, 270
- qtDialogs.py : changed visual stuff 
- qtValueDialog.py : changed visual stuff 

30/09 OA
all to python 3 with lib2to3
- in Qtlayout setMargin - setContentsMargins
this version sent to elicia

1/10 OA
- qtDialogs l 146 added filename=fileName[0]
- qtVisualisation l 408 createContour clabel color -> colors
- don't forget, to print something in v3 print()
- ortiGui excpt handler added line 67
- in menus donwload, replaced urllib by requests, l 194-197

2/10 reformat qgis plugin OA
- qtDialogs removed import qwt (does not exist in qgis)
- menus l.46 : commented visu.setVisu(core) !! may be usefull for qt
- in qgisVisu l 131 removed replaced by 132 QgsProject (syntax has changed)
- features do not have the feature number as first value
- QgsGeometry.fromPoint replaced by fromPointXY
- QgsMapRegistryLayer -> QgsProject
- QgsVectorGradientColorRampV2 -> QgsGradientColorRamp (l.320 in qgisVisu)
- l.329 qgisVisu QgsGraduatedSymbolRendererV2 -> QgsGraduatedSymbolRenderer, same for makersymbol, qgssymbol
- qt visualisation matplotlib : backend_qt5

3/10 EV
- margins in qtdialogs, l 59, 106, 174, 605,697
- ortiGui modif to show errors
- modflowWriter.getpermScaled l.345 moved to 355 to apply only to mesh
- valuedialog l.137 added as n was undefined (exec problem replaced by getattr)
- same in qtDialog l. 53 and 64
- exec in python3 does not work as in python 2, in mtphtwriter/writeSssm replacement by a dict at l. 436 and linked lines
- mtphtwriter l 664 in formatvect, search 'int' in type for differetn int (int, numpy.int32)
- core l.865 exec removed
- guiShow l.265 exec replaced by eval
- import export l.88 same

4/10 OA
- in core getValuelong l.499 changed exec for formula by adding from scipy import * to allow any formula

10/01 EV
- in menu.py OnSaveAs l.70 added '.orti' type file 
- ORTI3D_v3_start.py l.4,11-13,20,21 / qtDialogs.py getsetFile l.140-142,145,148,153 added Qsettings functions to open file directly on the last opened directory
- in menu.py OnNew, OnOpen, OnSaveAs, l.22,35,71 changed or added return to avoid error message when push cancel button
- in orti3dGui.py makeMenus l.157-159,163 put "#" in front of "Download local" menu 
- in addin.py initMenus l.150 put '#' in front of 'Interactive fitting' option

17/10 OA
- in menus onDownload, l.203 removed ilibq in the initial folder of the copy
- menus line 224 removed dialog.destroy
- in qgisVisu aded l310 to return something if nothing in the given line
- in qgisVisu replaced all QgsMapRegistryLayer by QgcProject
- qgisVisu l.196 (in feat_add) exec tranform in eval

17/10 EV
- in menus.py on download, l.229 added sys.exit(), l.228 changed app name ipht3d -> orti3d, l.185,186,191 added os.path.normpath to download new version from qgis
- in qgisGui.py, l.24,28,44,95,159,162,179-182,200-204,218-221,243,276,277,425,459,461 changed / added visualisation stuff
- in addin.py l.174 removed sutra 

18/10 EV
- in menus.py on download, l.228-232 added option for qgis message after download new version

20/10 OA
- in qgisVisu lot of changes, l.93,94 added to connect the feature form button
- in qgsiVisu feature_added completely changed to include the feature from button

22/10/18 OA
- in qgisGui added a connect l.71 to ask for save the orti file when saving a qgis project
- in menus changed the wording of the askwasved method l.86-91

22/10/18 EV
- in core.py l.291-292 removed option of bin path for the ORTi3d windows version (same than python version now)
- in menu.py l.190, 215-228 changed option for download new version with the ORTi3d windows version
 
23/10/18 OA
- in qtialogs modified plotxy to use matplotlib

23/10/18 EV
- in qtValueDialog.py l.87,88 added disabled option for some model parameter
- in qtialogs modified plotxy to define ticklabel format

24/10/18 EV
- ModflowKeywords added choice for dis.3 (l.44) and disu.5 (l.69) because it was layint variable without choise
- ModflowKeywards modified type for lpf.2 from layint to arrint 
- ModflowWriter l.91 added 'lpf.2' and l.208-213 added exception to write lpf.2 variable in lpf file
- qtDialog in saveCurrent l.372-382 added try/except option for media number type
- valueDialog.py l.24 added some spatial attributes variable to blind
- core.py l.219,244 change ipht3d by ORTi3D
- in qtialogs modified plotxy to define legend and axis labels
- qtShow l.149 removed dialog. in front of onMessage

25/10/18 EV
- core.py l.671 removed limit size of comm dicLines
- ModflowWriter l.184,188 added condition for lpf.11 following option in lpf.2
- ModflowKeywords l.126 removed condition for lpf.11
- Parameters.py l.63-68 changed return to avoid error message when push cancel button
- Parameters.py l.67 modified onSetItem by onTickBox
- topBar.py l.130 removed 'line' as argument of fonction redraw
- qtTopBar.py added self.gui in front of "please select a zone" l.386,395,412
- qtDialogs.py l.401 put coma on None to allow cancel option of dialog zone
- addin.py l.251 added 'else : return' and l.248-250 indent these lines for avoid message error on cancel button

25/10/18 OA
- in valueDialog testConditions l71 added condition to remove all 'arr' lines
- core added import types as the beginning
- core added function formExec after getValueLong to replace the python2 exec statement
- addin added a similar function (and import types) !! not tested!!
- in rflow removed the from scipy import * (pb of mixed blcok function)
- in geometry l.928 in zone2interp there was an error iytp instead ityp
- in myInterpol/krige replaced the exec by a function

3/11/18 OA
- in modflowkeywd modi disu names for nstp because copy from modflow to mt3dms does not work (updateDicts in parameters)
- in mtphtwriter writeexceptions l167 added[:10] in str if not can be too long

5/11/18 EV
- topBar.py l.53-54 replaced wx function by qt function myFileDialog and getSetFile and removed evt 
- importExport.py impZones modified to allowed import zone on several media 
- pest.py getDicBack1 added a list of parameters allowed in pest - added the "comm" of lines
- pest.py getDicBack2 l.74-88 modified to refresh choice of parameters - l.78-93 added split(' ')[0] to split line and comm
- pest.py getDicZone1 l.109-111 added the "comm" of lines
- pest.py getDicZone2 removed X and Y position of zone - l.129 added split(' ')[0] to split line and comm
- addin.py l.314-328 added else : return to avoid error when cancel
- qtDialogs.py l.178 replaced 4 by 1 to get one colum instead of 4 in the dialog

6/11/18 OA
- guishow getpointvalue l.23 change format '%g'
- qtValueDialog/getvalues l.101 removed layint from the list, it is in a linedit box it has no index
- valueDialog/makebutton l.160 change the order of output to mimic the input one
- qtDialogs/ploxy l.757 added ,gui to know the parent window and l.803 replace exec- by show to have a non modal dialog
- qtShow/setupUI l.29-34 lines to add title results
- qtParameters/setupUI l.19-24 et 45 to show title (45 added because i added a box)
- in qtparameters adding a streatch to the box at the end of the setupUI push everybody tot he top
- in modflowkeywords the dis.1 line is iused for the domain, if it contains a zone it will use it as a base for the grid
- in addin/doaction l.197::201 added to use the domain zone for the base of the grid

6/11/18 EV
- pest.py getDicBack2 l.74,83,88,101 added option to get line for each media
- pest.py getDicBack2 and getDicZones2 l.85,103,145,146 added format number "{:.5}".format()
- pest.py dic2parms l.204-128, l.232,233,241,246 added keywords for lines
- pest.py dic2parms l.248,253,257 removed z for zone in parameter name
- pest.py writePyscript l.366-371 added keywords for lines in scriptPest1.py
- addin.py l.576-593 added setPestParm() function to set the number and name of parameter group
- modflowWriter.py l.91 added 'dis.1' in exception to not write this line 
- tplPestScript1.txt l.14 added dicCatgMod to added keywords for lines
- tplPestScript1.txt l.27-30 modified to suit new name parameter format
- tplPestScript2.txt l.46,62,63 modified to allow obs transformation for head and chemistry

7/11/18 EV
- core.py runModel l.358-368 added to run pest
- addin.py l.601-604 added onPestchek function
- addin.py initAddin l.104-105 added Pestchek button
- pest.py l.559-575 added Pestchek function
- pest.py l.516-557 added writePestpp function
- pestKeywords.py l.43 put SVD on by default - l.44,47 put condition for svd.2 and svd.3
- pest.py dic2parms l.241-242,251 added condition for X Y zone 

8/11/18 EV
- pestKeywords.py l.105 modified PHIMACCEPT default value
- pest.py l.477-480 modified command line for linux


13/11/18 EV
- pht3d.py l.65 replace >0 by !=0 because error '>' not supported between instances of 'str' and 'int'
- core.py runModel l.311-320, l.329-335, l.341-347, l.381-391 show 'Model fail to converge' for modflow, mt3dms, pht3d and pest
- pest.py l.461 modified to avoid -inf for negative observation value in log10

14/11/18 OA
- addin init l.71 added a self.checkDomain bool set to False
- addin l.203-208 in action Ad_Grid added a dialog to use dis.1 zone for domain bdy
- addin l.221 modif dis.1 first zone if changed in grid dialog
	
20/11/18  OA
- qtdialogs zonedialog getvalues l.384 : the coord correction is done for all zones except dis.1

21/11/18 EV
- core.py l319 removed IndexError to take into account all type of error 
- geometry.py makeZblock l.164 modified exec function 

23/11/18 EV 
- modflowWriter.py in writeExceptions l.185-188 and l.216-219 added option to take into account many layer by media in lpf.2

26/11/18 EV
- modflowWriter.py in writeExceptions l.242-253 added HBF, l.97 added hbf.3
- modflowWriter.py l.512-561 added writeHfb function for HFB
- modflowKeywards.py l.4, l.29, l.385-386 added HBF
- menu.py l.207, 216 added option to copy pykrige when download new version 

26/11/18  OA
- Min3pwriter/getStringsolution l.350 just added int to get correct list reference

27/11/18 EV
- menu.py on askSave l.87,88 added condition to prevent to ask for save the .orti file in qgis when no model is open (QGIS without ORTI)
- core.py on importZone l.412 added condition to avoid message error when cancel dialog
- menu.py OnSaveAs l.73-76 added option to update title of the model when save as 

2/12/18  OA
- in qgisGui l.90-104 modified onProjectSave and added onProjectOpen to open and save orti file
  when saving a project (to work, need to open extension before project and to have the plugin
  memoy layer saver)
 
16/12/18 OA
- in QgisGui l.93 commented to NOT save the orti layers
- in menus split the OnOpen in two parts to call it from qgisGui
- in qgisGui call the menu.onOpn1 instead
- in qgisVisu l.280-295 created removeOrtiLayers used when opening a file

18/12/18 OA
- qgisVisu/initdomain added line 74 a loop to create two layers with cells (grid and parameters)
- qgisGui UiVar/setupUI added line 324-330 to instert a box for parameters
- qgisGui l 437-445 added onView to show the parameters
- qgisVisu l 344 in createContour, added an argument layName

19/12/18 EV
- addin.py initMenus l.156, onMultiplot l.419-421,  remove multiplot from addin menu
- qtShow.py l.154-162 added fonction onPlot to call multiplot from gui
- guiShow.py l.20,21 modified entry option for multiplot
- menu.py l.48 remove the line for multiplot

21/12/18 EV
- orti3dGui.py makeMenus l.114-122 add import option for observed data head traceur and chemistry
- menu.py l.108 add import option for observed data head traceur and chemistry
- addin.py l.60 add import option for observed data head traceur and chemistry
- importexport l.142 add import option for observed data head traceur and chemistry

15/01/19 EV
- qgisGui.py onProjectSave removed last modification of OA and added self.menus.askSave() to ask if you want to save the ORTI file when you save project and prevent to save orti file when doesn't exist
- qgisVisu.py zonesQgs2core l.268 added 1 to split in order to split only on the first occurence of '_' to prevent error when a qgis layer name used more than 1 '_'
- qgisVisu.py createGridLayer l.96-100 added option to get grid and parameter layer fill transparent and line grey when open model
- qgisVisu.py removeOrtiLayers l.300-302 added a loop to remove parameter layer

20/1/2019 OA
- in Qgisvisu/initdomain, the part to generate a grid layer put in a function createGridLayer
- in qGsiViu createAdshow object, added first lines to find the name of the variable currently drawn
- in qgisVisu l353-356 in create contour, ability to create new grid layer in Qgis
- in qgisGui/showBox l 519 statechangeed -> clicked
- same in qtShow l 247
- in QgisVisu/createContour l 353-360 added to create a new layer to display results (its wiered but required due to names in Qgis)

24/01/2019 EV
- qgisVisu.py removeOrtiLayers l.305 added a loop to remove result layer
- in QgisVisu/createContour l.387 changed the position of the "pr.changeAttributeValues(d0)" to get the good scale of color ramp

01/02/2019 EV
- geometry.py zone2interp l.864-865 add option to choose range and type of variogramm 
- guishow.py getArray3D l.174-175 modified to get veloc-magn in 3D model

3/2/2019 OA
- modflowriter/writeTransientZones line 307 modified because the condition None was not working for Xsection
- modflowriter/getpermscaled l384 added because it wa slost in teh last modif

5/2/2019 EV
- core.py l.432-437 create function importAscii to import array from .asc file
- importExport.py l.143-156 added impAsciiGrid function to import array from .asc file
- addin.py onInitialChemistryDialog l.468-471 modified the way to read txt to take into account formula
- addin.py onInitialChemistryDialog l.460-463 added "formula:" to be able to read "value=" for name and formula and commented exemple which are not anymore implemented
- addin.py initAddin l.123 removed "value=" by default in formula 
- mtphtwriter.py getConcInit l.280-289 temporary development for import initital chamistry from ACSII file
- mtphtwriter.py getConcInit l.300-306 commented because not anymore available with the new temporary development 

14/2/19 OA
- myinterpol linIntpFromGrid modif line 37, added 38 : python3 requires index as integers
- modflowwriter l199 modified to consider that if recharge does not change -1 is written
- in qtVisualisation mouse-clic removed [:6] at end of l787 788 (was done to shorter coodinates)
- in qtVisualisation/l649 replaced len(coords) by len(a) because pb opening file some lines are mixed with polyv
- core line 359 just out of opgeo file keep only the last 3 and not 5 lines (to see the normal termination)

14/02/2019 EV
- multiplot.py onExport replaced ny by 2 in transpose
- mtphtwriter.py getConcInit l.281,289,298-301 added option to import some initial chemistry arrays and define other initial chemistry from the interface

18/02/19 OA 
- guishow.py modif for min3p and opengeosys l.53-55 / l.175 / l.203 / l.215 
- geometry.py modif for min3p and opengeosys l.158-161 / l.226-229
- myInterpol.py modif for min3p and opengeosys
- mtphwriter.py modif for min3p and opengeosys l.766-767

18/02/19 EV
- timeperiod.py l.31,36-41 removed reference to tmode log
- addin.py initAddin l.88 / doaction l.263-264,l.268 removed reference for mode in Time (log or linear)
- min3pWriter.py l.716, 718 added normpath to fix slash problem in path

20/02/19 EV
- core.py added a condition of presence of selected.out file to avoid an error of read it when open the model with a postfix but without run with it
- modflowWriter.py modified format of number from 9.5g to 9.2e

21/2/19 OA
- min3pWriter added line 842 in getPtObs
- some modifications of printing by GC
- ogWriter l 485 added def getPtObs (simple now, needs to be detailed)
- in guiShow l21 adde Wcontent
- multiplot/buildplot l 208 added conditions for Wcontent

23/2/19 OA
- qtShow l.226-8 showBox smaller space to see the panel on laptops (could be linked to resolution)
- qtShow added l.51 and modified l.58 for same purpose
- min3pFlow/trans/Chem keywords remodified (was not working, sorry)
- min3pwriter l.302 writeBcs : modified the GC modification : was not working a \n required

25/2/19 OA
- min3pwriter/readUCN l.826 added complex to get the complexes
- min3pwriter/getptobs l.845 pb of dims of the array
- multiplot l.129-133 removed replace by l.128 to get the list of species for all model types
- Min3p at different places removed ref to LJ and diffusion coeff (not used)

27/02/19 EV
- multiplot.py l.363 removed transpose to export correctly the data

01/3/19 oA
- min3pwriter/writeGeochem l.631-2 exchange s1 instead of s and nb of species
- min3pwriter/getstringfromsolution l.384 change nb of col for cec
- min3p/getlistspecies l.136 added list of exchange species
- addin/Ad_chemistry l.338 remenber the exchange species names

05/03/19 EV
- multiplot.py l.321 add condition to not plot empty observed data
- importExport.py in updateChem l.227 added option to remove a column

07/03/19 OA
- in modflow keywords modif condition in uzf.4
- modflowWriter/writeexceptions l.217 arrfloat -> ktyp

9/3/19 OA
** there can be a problem on reading flo file when nwt is used (time steps within period is stored). not solved up to now. just use one sub perdio with nwt
** pb of Xsection col width not written correctly in.dis (no effec tin uzf infiltration)
** in uzf if print with nb of unit, shall create file in .nam
- modflowKeywords some modfis in uzf
- modflowwriter/reader/readWcontetn l.744 modif 16->12 there was a decalage, l.747 inversed
- in addin l.54 removed setting always pcg, l.57 added a new funct to have at least one solver
- in core/runModel l.314-5 changes last line for reading the end of nwt simulation (lst file) (2000 was removed because nwt is 2005)
- in addin/update1 removed line 161-167 when open keep the modules that were defined in the model that is opeend (and not add modules to the back)
- mtphtwriter/wrtieExceptions (uzt) l.217 modif condition (arr==Noe doest not work)
- mtphtKeywords, uzt change type of 6,8,10 (arrfloat to float)
- mtphtwriter l.220 for uzt write correctly the uzt.6 (n periods)
- mtphtwriter/readUCN l.756 if uzt pht3d is used so we read pht3d.ucn
- mtphtwriter/readUCN l.760 layer reversed for Xsection

17/3/19 OA
- in geometry/zone2interp, thiesse poly interpolation, added int(vrange) (python 3 requirement)
- in qtVisualisation/updateParticle l.511 changed T!=None

19/3/19 OA
- ogWriter l31 37 to allow writing of transport with unsat
- ogWriter uncommented line 178-188 to allow printing source term in transport
- ogWriter/readUcn l512 modif name of consTracer
- ogWriter writeGli 57 added trans3
- core/onPtObs l.646 added Opg in options
- ogWriter getObs l493 added to retrieve tracer

19/3/19 OA Min3p
- core/runModel l.365 changed to one version min3p which is today MIN3P-HPC-X64-V1.0.690 and may be changed later
- min3pwriter/getStringFromSolution l.350 added \n for conc input

21/3/19 EV
- modflowwriter.py l.200 removed OA modif "to consider that if recharge does not change -1 is written" (14/2/19)

23/3/19 OA
- geometry/zone2index, added line 444 to consider the option of a value= nb of zone

26/3/19 OA
- addin added 5 lines in setGridInModel opgeo l.528 to get the ncol,nrow

02/04/2019 EV
- multiplot.py l.247-248 modified to flat the list of tuple with different dimension  

02/04/19 OA
- in qtDialogs/myNoteBookCheck l.10 added (import from scipy) l.178 modified,182,184 added to sort the list of checks

03/04/19 OA
- qtDialogs/myNoteBookCheck ow sort is optional, use donly for databases
- addin/callCheckDialog l.429 modified to sort min3p database
- qtDialogs l.178 182 182 remmmodified so that dicIn remebers the new order after a sort

11/04/19 EV
- importExport.py checkObs l.250 removed any condition 

25/04/19 OA
- modflowKeywords in river changed the variables, added names to be consistent with drn, same for ghb (l.280 à 282)
- qtVisualisation/polyVdialog l.810 changed Value to Elevation for the dialog
- modflowWriter/xyzone2Mflow l.355 change name to recover zmat if variable poly and this zmat is returned (l.373)
- modflowWriter/xyzone2Mflow  l.352-353 take under consideration zone with three coordinates
- modflowWriter/writeTransientZones l.305 and 308 added zvar to remenber the potential values of variable polygon
- modflowWriter/writeTransientZones added l.335-336 in order to consider variable polygon values
- modflowWriter/writeTransientZones added l.327-328 to get both transient and steady values
- modflowWriter/writeTransientZones l.340-354 all modified
- timeperiod/txt2list lines added to allow transient even with several parameters (just one is transient)

27/04/19  OA
- modflowWriter/xyzone2Mflow l.374 a was remaining, replaced by zmat
- modflowWriter/xyzone2Mflow l.377 zmat added in that line because zone with several media wa not working

03/05/19 EV
- modflowKeywards l.127 added cond NPER > 1 for lpf.11 to remove this variable for steady state model 

06/05/19 OA
- mtphtWriter l.7 and l.16 added to retrieve the function xy2mflow from mflowWiter to use it mphtWriter
- mtphtWriter/writeSsmFile for ghb,riv and drn l.423 to 436 added to get the position of these conditions
- mtphtWriter/writeSsmFile  l.488-490 to set value to 3,4,5 for drn, riv, ghb

07/05/19 EV
- mtphtWriter/writeSsmFile l.429-434-439 added to reverse modflow array

08/05/19  OA
- geometry/zone2grid l.444 added to have the option of getting the nb of zone isntead of value when opt='zon' is activated

12/05/19  OA
- qgisVisu l.81, 136,250 modified the way to get the crs
- qgisVisu l.156 was missing (getting allLayers)
- qgisVisu  l.80-82 adde , when changing the grid, needs to remove the current grid and parameters layers
- qgisVisu l.176 et 187-190 added an editing stopped function to retrieve movements in qgis
- qgisVisu l.285 modif to consider new names of layers
- config added function nice to format coordinantes 

14/05/19 EV
- mtphtWriter/getConcInit l.280 removed to reverse modflow array

24/5/19 OA
- qgisVisu zoneCore2Qgs l.351 added missing index
- qgisVisu l.149 createLayer changed map to string for type 
- qgisVisu l.242  in setAttributesInQgis added the index (nf here)
- qgisVisu in attributeForm l.218 name is index 1
- in valueDialog, l.26 removed Al, tprpt.. from blind list

31/5/19 OA
- qgisVisu, added deleteAllOrtiZones to qgisVisu at line 303-309, used at line 279 in zonesQgs2core
- qgidVisu l.147 in=createLayer changed vlaue to a string to manage mutli attributes of a zone
- qgisVisu l.238-239 commented (for string value) changed to simple getValue
- qgisGui change icSize in two places to stretch the results combos

1/6/19  OA
- qtShow modified to be used by both qgis and qt, makeTop function cretaed (just splitted from previous)
- qtShow added line 30-33 to use the makeTop for qt and not for qgis
- qtShow l.267 in showBox condition to remove 'C' button in qgis (useless)
- qgisGui l.67 added ref to guiShow
- topbar l.131 133 removed because the list of observaiton is not anymore in the results
- multiPlot, removed line 6 : useless and creating pb in Qgis
- qgisGui l.323 adde _pt and _line to differentiate type of layers
- qgisGui onChoiceType l 430 changed to consider two zone type
- qgisVisu setAttributesInQgis l245-249 adde to consider points
- qgisVisu zoneQgs2core l.302 chaged format for poits (added ())
- qgisVisu zonesQgs2core l.298 save str(value)

5/6/19 OA
- min3pwriter/writeGeneral l.141 added comments for Greg
- min3pflowkeyw l.110 default 0 to 1

8/6/19  OA
- core begining import from subprocess
- core/runModel replaced all time os.system() by Popen to open the process in a new window (to be able to kill it correclty)
- qtDialogs removed from scipy import * (pb with block function)

9/6/19  OA
- qtShow/uncheckContour modified, added l.96 to allow for removing all contours
- qtShow/onTickBox l.100 added
- Pht3d/importDB l.321 added alkalinity and H to species to be removed

11/6/19
- geometry/zone2index l.536 added to correct bug for one observation line fully in one cell

30/6/19 OA for postfix import, added as a menu now
- orti3gui, added l.129-131 and 138
- core/openModel commented l.205, function usePostFix l.207-214 removed, transfered to menus (l.153-160)
- in Pht3d/readselectout, adde line 343 for xsection/radial models

16/7/19  OA
- mtphtwriter l.572 in writepHfile added a blank if no surface is chosen

18/7/19 OA
- geometry/makeZblock l.155, modif condition for structured grid to adapt min3p to 3d
- geometry/block l.300, change the unstruct option to have min3p corect
- geometry same modif l.236

22/07/19 EV
- modflowWriter l.442, l.536 add zvect at the function xyzone2Mflow
- guiShow/getArray3D l.175 modified to display velocity vectors and magnitude in 2D & 3D
- guiShow/get3Dvectors l.175 modified to display velocity vectors in 3D
- qtDialogs/saveCurrent l.378 added condition to prevent saving modification when cancel
- qtDialogs/saveCurrent l.385 removed try/except option for media number type
- qtDialogs/accept1 l.413-414 added checkEntry function
- qtDialogs/checkEntry added this function for checked if there is a name for zone and an integer for media
- qtValueDialog l.41 & l.59 removed things to avoid warning message "add QLayout to ""QWidget"", which already has a layout" when open parameters dialogs
- addin.doaction l.206-217 change free by Unconfined
- modflowKeywords RCH modified type of variable
- addin/initAddin l.77 modified 2D by 2D horizontal
- addin/doaction l.199-204 added condition to transform 2D in 2D horizontal & free in Unconfined & confined in Confined in the existing model
- addin/doaction l.205 modified 2D by 2D horizontal
- addin/getDim l.549 addin condition to call variable 2D horizontal by 2D

25/07/19 EV
- pestKeywords/PGR write 'choice' correctly
- pest/getDicBack2 l.73 added 'Transf' keyword to choose parm transformation
- pest/getDicBack2 l.85,103 added 'log' for transformation by default
- pest/getDicZone2 l.146 changed parm tranformation by default from none to log
- pest/dic2parms l.235 modified index for dp
- addin/setPestParm l.639 modified index for dp

27/7/19 OA for usg Transport
- core line 22 added MtUsgKeywords
- core/openModel l.188 and 190 added to consider Usg transp
- topbar/modlistFromGroup l.23-26 modfi to introduce Usg transp
- core line 37 added MfUsgTrans as a new model (transport for ModflowUsg, Pht3d will remain the same)

28/7/19  OA
- qtTopBar/onChoiceModel l. 129 removed 4 lines for upper and lower case not usefull anymore
- in addin modflow UNS replaced by modlfow USG
- modflowWriter also same replacement
- in parameters/action l.48-49 added for mt3dms -> usg transport if needed
- core/writeModel l. 256 added mfUsgTrans + l.257 and 258

1/8/19  OA
- qtDialogs KeyPressevent : correction of copy paste pb in chemistry, added l.330 and modif 345
- modflowWriter/getPermScaled l.419 an error on usg grid
- geometry getTopBtotom l. 223 changed UNS to USG

4/8/19  OA
- geometry/zone2mesh l.333,334 added if no zones in this diczone
- pb of starting with the Qgis python (to have shapely for polygons) required changes in ortiGui

05/08/19 EV
- orti3dGui/on3D l.71-72 modified to grey 3D button when not 3D model
- orti3dGui/onRCT l.80-81 modified to grey RCT button when RCT plugin is not used 
- orti3dGui/makePanelParameters l.256-261 added to grey 3D and RCT buttons when start ORTI3D_v3_start
- qtParameters/boutonVisible l.33-36 function modified and get out from UI-Parameters class to set enable parameters buttons
- qtDialog/genericDialog l.91 increased the width of the Long Text dialog box

7/8/19 OA
- lots of change in modflowUsg
- change in geometry readGmshOut
- qtVisualisation in utton_release_callback l.960 added(int)

10/8/19  OA
- min3pWriter/getValue l. 365 changed to get all values instead of first one

13/08/19 EV
- qgisGui/SetupUI change size of the plugin

14/08/19 EV
- multiplot/getValues l.158-167 added this function (initialy in qtDialogs) to avoid click apply buttons 2 times 
- multiplot/getOptions l.117 call the getValues function created
- qtShow/onPlot l.171-171 added condition to avoid error message when use multiplot without observation zone created
- core/delZone l.778 added condition to delete the line in diczone when there is no zone in this line
- qtTopBar/UpdatechoiceZone l.336-337 added to update zone value when chossing a line without zone
- qtTopBar/onChoice l.348 added condition to avoid message error when click on zone box when chossing a line without zone
- qtTopBar/onValueZ l.354 and setupUI l.283 added condition to avoid message error when click on zone box value when chossing a line without zone

19/08/19 EV
- modflowWriter/writeRCH l.186 for trch variable 'rch.2' changed by 'tlist' 

19/08/19 OA
- qtDialogs/notebook Keypressevent l.331 take all (don't remove last line)
- core/runModel in runModel l.301 changed name of usg to mfUSGs_1_3
- core/runModel l.337-340 added for usgTransport
- modflowKeywords, modif base Disu.3 ISVD to -1
- modflowUsg l.320,321 added to conisder removed points

20/08/19  OA
- modflowWriter/writeVecModflow, l.555 reset condition for integer
- core replace mflowUSGs_1_3 to mfUSGs_1_3
- addin/initAddin l.56 added pcb, crch... modules
- modflowWriter writeRCH fully modified for transport
- mtUsgWriter formatBlockMusg \n removed
- some modifs in mtUsgKeywords
- some modifs in mtUsgWriter

21/8/19 OA
- qtVisualisation/ button_release_callback l. 960 added int(len/10) for adding pts in polygons
- core/writeModel added line 259 to be able to read corectly transport file
- modflowWriter/writeRCH l.197 removed INCONC
- one or two modfis in mtUsgwriter

22/8/19  OA
- in guiShow l.148 created redraw to allow change of type of presnetation (image/cont)
- in qtShow/switchImg l.76 added the line that calls redraw above
- qtVisualisation/createAndShowObject modif in showImage et contour
- qtVisualisation/drawContour modified to have true and false
- in qtShow/switchPlane created l.70 to switch view x,y, or Z
- in qtShow/onclick, added line 132
- in qtParameters l.38 added boutonIcon to change an icon of a button (for mesh type)
- ortiGui in __init__/ added onGridMesh to change the grid/mesh button
- addin/doaction in Ad_Model, l.213 et 218 added to change icon when mesh instead of grid (unstruct)
- addin/doaction l.219 added to have the mesh since model creation
- core/runModel l.302 adde lastline nb to search final time also for usg
- mtUsgTrans keywords cahnged default idisp value to 1 (isotropic)
- parameters writeModel l.88 added init guishow

26/08/19 EV
multiplot/getChoices l.148-151 added condition to not show list of layers for 2D model
multiplot/getOptions l.175-176 created a dic 'Layers' with 1 layer for 2D model
multiplot/buildplot l.207-215,257-259 added message to avoid error when no checkbox is checked or when there is no observed data imported
multiplot/buildplot l.270,285-286,312-313 added option to put color on observed data plot
qtDialogs/myNoteBookCheck l.184-185 "True" replaced by True to set check QCheckBox
addin/doaction l.342 added 'else' to avoid error message when database missing

26/8/19  OA
- in config, added split (for arrays, for usg), nice redefined
- in topbar/onZoneCreate l.115 added nice format (from config for chosrt coords)
- in addin/make3DTable l.586 pb of format for the last line of 3D dialog (str -> nice)
- qtDialogs/zonedialog several changes in savecurrent to vlaidate all numbers

27/08/19 EV
- qtVisualisation/createImage l.321 'jet' color added to plot result in image (not contour)
- config/nice l.20 condition added to fix om at 1 when x = 0

28/08/19 EV
- modflowWriter/writeModflowFiles l.46, 60-61 option added to avoid to write HBF files if there is no HBF zone
- modflowWriter/writeNamFile l.80, 104-106 option added to avoid to write HBF in .nam file if there is no HBF zone or module uncheck
- modflowWriter/writeNamFile l.95,101 option added to avoid to write WELL and MNWT in .nam file if module uncheck

6/9/19  OA
- qtDialogs/gridSimple l.595 add split to remove blanks
- qtShow/setupUi added selectComboValue (does not work fully)

16/9/19 OA
- several modifs in modflowUsg
- in config, added delete

17/9/19  OA
- in qtvalueDialogs l. 82/85 added the case of lay to produce a button
- in qtValueDialog l.96/99 added onOpenVectDialog method
- in modflowKeywords, dis.3 removed the list of options -> to obtain a button to open a grid

18/9/19 OA
- in modflowKeywords return to layint for lpf.2
- in valueDialog /initStoredValues l.48 modif to consider layint

25/09/19 EV
- addin/doaction l.212 added a variable for number of media
- addin/doaction l.222-224 added condition to change laytyp when clicked 'Confined', added a multiplication by the number of media for value, remove TLAYCON
- qtValueDialog/addButtons l.65-66 added title and comm as variables in the function
- qtValueDialog/onOpenVectDialog l.103-104 added self.comm for name of tab and self.title for title of dialog
- valueDialog/onChoiceLine l.95 added comm variable
- valueDialog/changeButtons l.136,138 added title and comm as variables in the function
- valueDialog/OnSetNewVal l.121-126 added condition to change 'type' button when modified lpf.2 values  
- valueDialog/init l.26 added 'TLAYCON' to blind

26/09/19 EV
- addin/doaction l. 233 added option to blind 3D button for radial and xsection model
- modflowWriter/layerLines l.323,326-333 added option to print lay parameters in list and in 1 number format
- mtphtWriter/ writeExceptions l.236,237,240-251 added option to print lay parameters in list and in 1 number format

27/09/19  OA
- config added delete in scipy fucntion imported
- several corrections in modflowUsg
- some modifs in gmeshstring

30/09/19 EV
- menus/onDownload some modif to download .png file to utils and .exe file to bin  
- core/openModel l.190 added option to change grid button when open modflow usg model

1/10/19  OA
- guiShow, removed calc keyword in Glist dict: not used
- guishow removed resetGlist (was modyfying calc)
- parameters/writeModel l.91 changed restGlist to restDicContour
- qtShow/onChange l. 175 added to get teh species, to have contours fixed also for chemistry
- qDialogs/onListUser l.730 commented to get the list of values working

2/10/19  OA
- qtVisualisation/drawContour l .428 added condition !=None
- modflowKeywords lpf.5 and lpf.6 layint -> laychoice
- qtValueDialog/addButtons l.79 et 83 changed to consider laychoice, same in getValues l.

3/10/19  OA
- in addin/setTime l.603 f was missing to modflow! -> pb for nper and thus for lpf.10 and 11
- parameters, last line : removed usePostFix, it does not exist anymore in core
- in mtphtKeywords, btn.20 changed to default true and 1 to remove the for... files, mass will be printed

14/10/19 OA
- in addin/calcparticules l.678 added to limit to positive times
- menus/onOpen1 l.44 added openModel in guishow
- guishow added function onpenModel to change some combo during model opening

29/10/19 EV
- qtDialogs/checkEntry l.454 added option to avoid a message when no value in zone value for obs.1, ghb.1, drn.1 and riv.1,

14/11/19 EV
- orti3dGui/makeMenus l.124-126, 137 removed import solution from menu
- menus l.124-133 removed OnImportSolutions function 
- core l.416-419 removed importSolutions function

15/11/19 EV
- valueDialog/init l.26 added 'LAYCBD' to blind in order to remove quasi3D option

19/11/19  OA
- in qtVisualization, polygonInteractor, added two lines (923-924) for Qt
- in qtVisualisation, key_press_callback remvoed the t option
- in qtVisualisation, key_press_callback in event-key l.930 ind -> ind[0]

20/11/19  OA
- in guiShow added Tstep in init
- in qtVisualisation removed l.549
- in addin/calcPartGrid l. 708 changed iper+1 -> -1 for last time step
- in qtShow changed order of layers (Z first)
- in addin l.241 in Ad_Grid, added conditon for qgis (for domain zone)

21/11/19  OA
- in modflowKeywords, removed CHD from the list
- in valueDialog/makebutton commmented line, changed detail.. to choice and removed else condition
- in qtvalueDialog/addButtons  87 added condition textlong
- in qtvalueDialog/getvalues 125 added the condition textlong

22/11/19  OA
- in qtDialogs/genericdialog l.100 added the button for colors, l.49 set slef.color
- in qtDialogs for l.126 added dialog color
- in qtDialogs/generic/getValues, added color
- in qtShow onChange l.155 ==None replaced by try

25/11/19  OA
- in Pht3d/updateChemsistry, comment line 87/88 to allow decreasing solu number
- in topbar changed line 115 for the pb of drn nice format

11/12/19 EV
- orti3dGui/makeMenus l.127 spelling changed
- guishow/init  l.44 variable curName and arr3 defined to None
- menus/OnExportParm l.165-167 condition added to add a message when parm not selected 
- menus/OnExportResu l.175-177 condition added to add a message when result not selected
- menus/OnExportParmVtk l.188-190, 193 condition added to add a message when parm not selected and cancel button pressed
- menus/OnExportResuVtk l.202-204, 207 condition added to add a message when result not selected and cancel button pressed
- core/writemodel l.287, 289 added option to not receive 'Files written' message when pest_obs.txt file is missing
- pest/getOsbPt l.329-334 added option to receive a message when pest_obs.txt file is missing
- pest/Pestchek l.583-590 added option to receive a message when pest files have not been written
- pest/writeFiles l.611 added condition to not write files when pest_obs.txt file is missing
- orti3dGui/makeMenus l.170-172, 178 'download develop' removed from help menu

13/12 OA
- Pht3d/updateChem l96 replaced Ass_SI removed (useless)
- mtphtwrier/getConcInit l.330 and 336 changed to remove ass_Si
- ortigui added function sendMessage to have a message instead of printing in dos window
- ortigui added line 69 to call the above function

6/1/20 OA
- min3pwriter, removed the print during writing the files
- min3pwriter: pb call of gui (absent in batch mode) modif line 138
- min3pWriter : line 791-798 replaced iper by ip as iper is an input of the function
- min3pwriter l.879 886 all funciton same format, now include periods for breakthrough

6/01/20 EV
- min3pWriter/writeSpat l.165-166 added condition to wrtite radial coordinates when radial option is checked in the gui
- min3pWriter/readoutput l.799 removed minus in font of ::1 to plot result in the right direction
- core/openModel l.152 removed print fullName
- min3pWriter/readWcontent replaced theta_a by s_w

6/2/20  OA
- qtVisualisation l.915 zind added as ano object of polygonInteractor (was missing)
- qtVisualisation l.738 ind replaced by zind

8/2/20  OA
- core, commented line 190 because the gui shall not be changed in core,
- menus added l.37 in OnOpen the line above

9/2/20  OA
- addin added at l.149 setUsgRect function
- addin l.224-225 use of the setUsgRect 
- addin l.216 added a new model group : modflow USG_rect, rectangular grid (mainly for tests)
- addin l.524 grid in model aded usg_rect
- core l.305 modif to run modflow-usg (use self.mfUnstruct) in order to be able to use dis
- core openModel modf l.186 to ge tonly usg and not usg_rect
- core in writer l.257 modif to consider all usg
- modflowWriter l.85 in writeFiel modif to remove lmt6 for all usg models
- geometry in getTopBottom, l.215 added line for mflowUSG_rect
- mtUsgWriter, added getGeomfct at the end, from ModflowWriter

10/2/20  OA
- core l.252 (+258) added to use specifci writer for usg
- modflowkeywords bas6 l.85 changed to FREE

03/02/20 - 12/02/20 EV (importArray development)
- core.py initAll l.84 removed self.dicarray[mod] variable to get dicarray empty
- core.py initArray l.104 removed array variable to get dicarray empty
- core.py getFormula added media as function parameter, extend the number of formula at the number of media
- core.py openModel l.183 added option to update dicarray
- core.py openModel l.165, l.184-187 removed old option for import array
- core.py saveModel l.236-240 removed old option for import array
- core.py getValueLong added iper as function parameter, added intp variable to define the type of the model parameter
- geometry.py makeZblock l.154-162 added option to define model and line (was in getTopBotm)
- geometry.py makeZblock l.172-176 extend the number of type (in dictype) at the number of media
- geometry.py makeZblock l.177-196 added intp variable to define the type of model parameter for each media
- geometry.py makeZblock l.199, 205, 208 added modName, line, replaced intFlag by intp as parameter in getTopBotm function
- geometry.py getTopBotm removed option to define model and line (moved in makeZblock)
- geometry.py getTopBotm added intp variable condition for zone, interpolation and added import array option
- geometry.py blockRegular l.396-404 and l.405-413 added intp variable condition for zone, interpolation and added import array option
- geometry.py zone2array l.999-1024 create zone2array function
- modflowWriter.py writeRCH l.198-199 replaced block function by getValueLong  
- modflowWriter.py writeEVT l.215-216 replaced block function by getValueLong  
- modflowWriter.py writeUZF l.253-254 replaced block function by getValueLong  
- mtphWriter.py getConcRch l.357-358 replaced block function by getValueLong
- mtphWriter.py writeSsmFile l.518-519 replaced block function by getValueLong
- multiplot. py l.100, 106-107 added some option for axes option 
- myInterpol/krige added verbose and text option and plot variogram
- qtDialog/genericDialog l.104-111 added File type to create a button with open a FileDialog
- qtDialog/genericDialog onFile l.136-142 added onFile option to connect File type
- qtDialog/genericDialog getValues added File type
- qtDialog/myFileDialog getsetFile l.164, 177 added option to get fName with or without the extention (.txt,.dat ...)
- qtTopBar.py l.95 added importArray type option
- qtTopBar.py onChoiceLine l.171-174 extend the number of type (in dictype) at the number of media
- qtTopBar.py onChoiceMedia l.186-188 added option to change the type when change media selection 
- qtTopBar.py onChoiceType added option to get the type in function of media and added importArray option
- topBar.py onFormula l.65 added media as parameter in getFormula function
- topBar.py onFormula l.69-70 added option to assign formula in function of media
- topBar.py onInterpolate added option to assign formula of interpolation in function of media
- topBar.py onImportArray l.89-114 added this function to open a dialog, choose an array file and save the name in a dic

12/02/20 OA
- addin onUsedModules l.347-350 added to set teh grid/mesh button
- menus onOpen1 added lines 59-60 for mesh icon

13/2/20  OA
- in modfloWriter replaced 9.6g by 9.4e (seem to be a problem when we have 1: it is not a float)
- in modflowKeywords, modif of default values of wmd solver(in sms)

16/2/20  OA
- in geometry added line l.389 for case of intp is not a list #commented because i don't know
- in addin modlchoice l.224 and 231 moved unstruct to be ok in all cases
- in core getvaluelong re-added las line to get the correct type

17/2/20  OA
- geometry l.237 mgroup replaced by modName (due to EV changes above)
- in parameters added l.51 to run usg

17/2/20  OA
- geometry in blockUnstruct, several changes due to changes in intp
- in core openModel added line 194-195 for usg_rect
- menus onopen l.37 added a condition

13/02/20 - 19/02/20 EV (interpolation development)
- core.py runInterp l.583-588 function added
- core.py save2array l.590-596 function added
- geometry.py makeZblock l.153, 194, 201, 204 removed optionB and optionT 
- geometry.py getTopBotm l.227 remoded optionT as function parameter
- geometry.py getTopBotm l.229 added opt to get interpolation option
- geometry.py getTopBotm l.230 added mess for the return of zone2interp
- geometry.py blockUnstruct l.312 added mess for the return of zone2interp
- geometry.py blockRegular l.395 and 408 added opt to get interpolation option
- geometry.py blockRegular l.396 and 409 added mess for the return of zone2interp
- geometry.py zone2interp a lot of change 
- importExport impzones l.39 added int to import zone media with the right format
- qtDialogs genericDialog l.81 replaced setCheckState (3 states) by setChecked (2 states)
- topBar l.5 added import of myInterpol 
- topbar onInterpolate l.79-108 a lot of modification 
- topbar onZoneCreate l.179 added media 
- myInterpol l.14 added import of qtDialogs
- myInterpol l.21 - 242 added IntpDialog 
- myInterpol l. 243 until the end : arrange the function by interpolation method ans added title
- myInterpol/krige a lot of modification
- pyKrige/ok.py l.422-424 added get_variogram_model function

20/02/20 EV
- geometry.py zone2interp l.902, 936-937 comment variable
- geometry.py blockregular l.413-425 added try except to avoid error when the array to import do not exist
- geometry.py getTopBotm l.237-425 added try except to avoid error when the array to import do not exist
- core.py l.52, 58, 191, 233 added dicinterp for store interpolation parameters
- valueDialog.py l.20, 33, 38 added dicinterp for store interpolation parameters

20/2/20 OA
- in geometry zone2mesh, l.354,355, 361_62 modif to be bale to use transient zones
- in geometry pointsinpoly added 1st line to make ptx pty arrays
- in geometry added import np at beginning, used as np.mod in l.835
- in mtUsgWriter added unstruct part in zptsIndices l.238-253 #still not good fro some pts

21/02/20 EV
- geometry/zone2interp l. 918, 967, 968 added option to interpolate tansient value 

29/2/20  OA  (29, once every 4 years!)
- modflowKeywords, disu.2 added options for rectangular and nested grids (for usg)
- core l.201,202 removed option modflow USG-Rect removed, it is now in generic Usg
- core writeModel added modflow_USG same line as modlfow, same in runModel l.318
- addin line 148-155 removed to remove usg_rect
- addin doaction l.208 removed option _rect
- addin doaction l.217 218 removed for usg_rect
- addin l.514 removed usg_rect
- addin doaction l.219 added condition for mesh
- addin doaction l.256 added condition for mesh
- lot of changes in ModflowUsg
- changes in mtUsgWriter
- geometry l;160 removed usg_rect
- geometry zptsIndices l.893 changed usg_rect to mshtype
- geometry block l.312 added meshtype for rect grid to go to regular and not unstruct
- qtVisualisaiotn creategrid l.258 added condition for unstruct mesh (type>0)
- qtVisualisation createContours l.401 added to mesh==none a rectanuglar mesh
- valueDialog l.13 added: for paramters modflow_USG = Modflow
- guiShow getAray2D l. 216 added condition for usg
- modflowWriter xyzone2mdflow l.461 added type of mesh for usg rectangle cells
- modflowWriter xyzone2Mflow added line 480 481 to transform classical coord to usg nodes
- modflowWriter xyzone2Mflow l.456 added as pcb (usgTrans) uses xyzzones2mflow + same for l.461
- modflowWriter readHeadFile l.702 added condition
- modflowWriter readHeadFile l.715 added condition to transform usg data to gridded for rect case
- modflowWriter writeTRansientZone l.406-408 replaced by 406-411 lost in one exchange
- modflowWriter : lots of change because for usg the cells must be ordered!!! l.389 added lindx
- same : l.396 added lindx, added l.407 to sort, l.418 added buf1 (a list), in 435-450 buff replaced by s1
- same : aded line 452-453 to sort the buf1 list with the cell number
- mtUsgWriter readUCN l.515 and 525 added condition for usg rect case

4/3/2  OA
- core l. 362-364 added to run pht3d_usg
- modflowWriter l.389 added lindx, l.396 condition on lindx
- modflowWriter transientZone changed l.412, to consider that ext sometime ie not in trans.keys
- modflowWriter transientZone l.421 added buf1 that is a list
- modflowWriter transientZone l.426,427 removed '\n'
- modflowWriter transientZone l.438,440,443,448,443 replaced buff+= by s1=
- modflowWriter transientZone replaced l.455 by 454-456 to condier the lindx (reordering for usg)
- modflowWriter xyzMoflow added line 463-464 to use by pcb (usgtrans)
- modflowWriter xyzMoflow l.471 and 474 replaced modflow by modname
- modflowWriter xyzMoflow l.474 aded condition for usg regular grids
- modflowWriter xyzMoflow l.488 conditon was not set to ==1
- modflowWriter xyzMoflow added l. 493 494 to write cell nb for usg regular grids
- modflowREader l.720 getGeom removed from condition, set for all (l.715)
- modflowREader l.716 added condition to read only true unstructured, same at l.730
- mtUsgWriter nb modifs mais qui n'interfère pas avec les tiennes, donc tu peux le prendre tel quel (phase développement)

22/02/20 - 11/03/20 EV (Budget development)
- mybudget.py creation of the file, developement of the dialog and zone budget graphs for flow
- geometry.py zone2grid l.466, 490-493, 495 added to create zone file for zone budget
- core.py onPtObs annotate added to explain the function 
- core.py runZonebud function created to run zone budget
- modflowWriter.py writeTransientZones l.407-408 added 31 to write budget by default
- modflowWriter.py l.92 replaced EVT by EVTR, l.216 replaced line[:4] by 'evt.'
- modflowWriter.py writeOcFile l.570 added to write budget by default
- topBar onZoneCreate l.185-187 remove these line because no use anymore
- multiplot getOptions l.60-65 modified to take into account W content and weighted concentration
- multiplot getOptions l.190-195 modified to take into account W content and weighted concentration
- guishow l.22, 23 added Mass balance graphs and zone budget graphs, removed W content 
- qtShow.py l.191-192 added option to run myBudget.py

12/03/20 - 17/03/20 EV (Budget development)
- mybudget.py development of mass balance graphs for pht3d
- importExport impTabFile l.87, 93-98 added option to select the number of row for title

19/3/20  OA
- core onPtObs modif for flux, changed name of layers to layers_in, l.629 and below
- core onPtObs added line 661 663 to consider the case 'all'
- core onPtObs l.676 added after building the list of cells coord, ix2 stores the cells but in layers=[-1] to make the average of layers
- same modif l.717 (pb calc discharge)
- same added line 720 to still get a flux for just one cell

20/3/20  OA
- qtValueDialog l.11 added to have geometry functions
- valueDialog/makeButton l.161-163 added to consider the case of layint and the prensed of detail in mflowkeywords
- valueDialog/makebutton removed 171-174 and set back the lines 175-180

18/03/20 - 25/03/20 EV (Budget development)
- mybudget.py development of zone budget graphs for pht3d and mt3dms
- core.py onPtObs l.629, 705 & 718 added ss='' as fonction variable for get solute or sorbed transport species
- min3pwriter.py getPtObs added ss='' as fonction variable
- mtphWriter.py getPtObs l.811 added ss='' as fonction variable and l.827 added ss variable for the UCN file name
- core.py onPtObs l.679 created llay variable for list of layers because iz2 is changed l.693&703 but we need it for discahrge and thick
- core.py onPtObs l.724 & 727 replace iz2 by llay
- core.py onPtObs l.736-744 get porosity and calculate volume of water in cell (vol) & 727
- core.py onPtObs l.758 added option to get mass of tracer or chemical species
- modflowWriter.py getThickness and getThicknessZone added iper to take into account transient thickness for unconfined model

26/03/20 - 02/04/20 EV (import array, budget)
- core.py importGridVar l. 475 function created to import array with irregular grid
- core.py getPorosity l. 635 function created to get the porosity of an observation zone
- core.py l.751-756 OnPtObs get porosity to calculate cells pore volume 
- geometry getTopBotm l.238, 243 / blockRegular l.421, 425 & 450 removed error text message and add condition if array is empty
- geometry zone2array added error text message when array file is not good and added import of .gvar file for irregular array file
- importExport impGridVar function created to import .gvar file
- modfloWriter getThicknessZone added the number of cell to get the right index of cell (modflow array are reversed)
- myBudget a lot of modification for axis legend and to plot cumulative or not mass and volume (NOT FINISH)
- myInterpol linIntpFromGrid OA added option for irregular grid
- topbar l.129 added option to open .gvar file 

3/4/20  OA
- myInterpol linIntpFromGrid modif l.304,306 i and j were inverted
- myInterpol linIntpFromGrid  added in l.303-310 to get correctly the sides
- myInterpol linIntpFromGrid  added l.319 for BC: if intp=False (default) no interpolation
- geometry l.1147 added to consider if grid from gvar need to be interpolate dor not (interpolate just for lpf.8 now, not very good)

5/4/20  OA
- in addin calcpartic line 692 iper -> [iper] and thick[0] because change in flowwriter/getThickness

7/4/20 OA
- in myInterpol/linIntp l.296 floor -> around

9/4/20  OA
- in geometry zone2array l.1138 added to revert the input zdy (in modflow order) to correspond toy coords
- in geometry zone2array below 1148 removed the questions of shape, with bad luck we can have two arrays of the same 
    size that have different irreuglar grids

11/4/20  OA
- in modfloWriter geththicknesZone l.850 TkMat desindented shall be used for xsection too, if not returns 0
- in core/onPtObs added l.700 to be able to use ix2.. as test index
- in core/onPtObs l.711 723 739 (new nb) added a clearer approach for 'all' layers (no -1 anymore)
- in core/onPtObs l.761 and 5 below aded 'all' for flux (->flux1)
- in core/onPtObs l.785-790 replaced disch and flux by disch1 and flux1 obtained previously

15/4/20  OA
- in mtphtWriter, writearray l.141 modif to have correct btn for mass balalnce calc
- mphtWriter created function correctBtn l.147-153

19/4/20  OA
- geometry block l.317 removed condition on rect usg grid
- geometry commented line 915-925 in ZptsIndices, and added l.940 942
- geometry lcoefsfrompoly adde l.844 845 for vertical or horiz lines
- modflowWriter xyzone2Mflow commented line 493-494 (useless here)
- modflowWriter writeTRansientZone l.407 adde to get the indx to write ordered nodes
- geometry zmesh l. 391 changed for one point
- in mtUsgWriter modified pcb writer

20/04/20 EV
- core.py getPorosity l.644 added transformation to get y coodinates correctly
- core.py getZcoord l.646 function created to return Z coordinates for vertical profile
- core.py OnPtObs l.727, 742, 761 modifiction of plot label for vertical profile 
- core.py OnPtObs l.791, 798-800 added *len(esp) to take into account the number of species for chemistry
- core.py OnPtObs l.805 added to get result when flux is in species
- core.py OnPtObs l.819 replaced ix2 and iy2 by ix and iy to avoid to duplicate coordinates with the number of layers
- core.py OnPtObs l.826-827 replaced flux and disch by flux1 and disch1 and added incrementation 'i' in flux1 and disch1
- core.py OnPtObs l.829-840 added to plot vertical profile
- geometry.py onMessage2 l.1081 replace onMessage by onMessage2 to avoid confision with the function onMessage from qtDialogs
- guishow.py init l.22 added vertical profile
- qtDialogs.py onStateChange l.229 function added to change the state of a button in notebook Layers whithout doing any action (for multiplot only)
- qtDialogs.py myNoteBookCheck l.210-212 added to take into account onStateChange in notebook Layers (for multiplot only)
- qtShow.py onPlot l.187 added because profile graphs is changed in horizontal profile graphs
- qtShow.py showBox l.283 added to enlarge the combobox view 
- multiplot.py a lot of modification to integrate vertical profile and mass discharge, weighted concentration and mass flux

23/4/20 OA
- mtUsgWrite/readUCN l.506 modfied because only the structured grid needs to be reversed (unstructured after reshape is already
- geometry/zmesh l.391 removed *1 to get booleans and not 0,1 (consistent with other zone types)

24/4/20  OA
- mtphtWriter in writePhfile l.691 add aa blank line if no surface option
- several change sin modflowUsg : face length where not good on corners

25/4/20 OA
- work on modfowUsg, aded a funciton to set back pints into domain
- mtUsgWriter, l.83 84 a print pb in bct, aded a blank

26/4/20
- in geometry l.646 added [0] select points as one coord and not list
- in geometry l.659 added the condition of point (do'nt add points again)
- geometry gmeshstring l.643 661 687 adde nli

27/4/20 OA
- several modifications in modflowUsg to account for ^pints and lines in domain (but a lot of bakc and forth, no details sorry)

27/04/20 EV
- addin.py initAddin l.81, doaction l.210,216,236 added checkFlowMod variable to unable flow write model if the variable is check
- addin.py doaction l.264 added onGridMesh function to change the button when an unstrutured grid is created
- orti3dGui.py onWriteModflow function added to change flow write model button state 
- budget.py a lot of modification to avoid error message, to add choise of chemical species in combobox and to fix some bugs 

28/04/20 EV
- importexport.py impGridVar modified to import file with 1 row print on several row

30/04/20 EV
- core.py onPtObs l.827-829 added to change the format of the array when layer is set to 'all'
- core.py save2array l.614-615 added to save the array with .gvar format (nb of row and col)
- topbar.py onInterpolate l.99, 101, 105-112 added to save the array with .gvar format (nb of row and col)

30/4/20 OA
- min3pwriter writeDatabases l.756 removed .gui to work witohout gui

1/5/20  OA
- geometry zone2interp l.978 979 1071 added option for usg
- modflowwrtier writeLpf l.384 chaned mat to blockwrtier
- modflowWriter wirtBlock l.645 et 647-648
- geometry blockunstruct adde l 315-317

2/5/20 OA
- geometry zmesh l.372 consider that a line can have 3 coors (varpoly)
- geometry lcoefs from poly l.820 same, also in cells underpoly l.888
- geometry cellsunderpoly l.898 added two lines (+line 890) to get hte z value of a variable polygon
- geometry zmesh added l.385 388 the zvalue

3/5/20  OA
- modfloWriter xyzone2Mflow adde l.487 to be consistent with new output of zmesh
- mtusgwriter connectZones l.222 to connect not only bct.20
- gmetry several modif sin zoen2mesh

4/5/20 OA
- qTValueDialogs addButtons, l.101-103 added to reshape the dialog for long lists of buttons

5/5/20 EV
- geometry.py blockRegular added line l.403 for case of intp is not a list
- modflowKeywards lpf.1 l.109 changed default value for ILPFCB from 0 to 31 to write budget
- topbar.py l.112,137,139 modified to save only file name 
- geometry.py zone2array l.1112 modified to get only file name

5/5/20 OA
- mflowUsg added lines to get angles of the elements boundaries
- in mtUsgWriter writeexceptions modified to write angles for dispersion
- in mtUsgWriter formatVeMt changed ot write by 50 values blocks

6/5/20  OA
- modflowUsg modif for angle in rectangular grid

11/5/20  OA
- modflowKeywords lpf.5 type cahnged to layint (laychoice does not seem to work)
- mtphtwriter writeexceptions l.252 added to have lines shorter= than 40 values (2 lines before also modified)

13/5/20  OA
- in core/getPorosity l.645 return directly the correct list instead of calcualtions
- in core/getOsbPt l.704 layers->layers_in already a list + adde line 705
- in core/getOsbPt l.781 removed condition : flux is calcualted for every situation (used for darcy flow)
- in core/getOsbPt l.809 removed, p1 is one for water fluw or discharge, it is multiplied later byt the flux

21/5/20 OA
- in modflowUsg added l.46 to store the bdies and p.indx, p.ncorn (in voroinoi) + modif l.50 (1->2 lines has changed)
- in geometry modif readGmshOut l.770 to read the bdy

6/6/20  OA
- in geometry zone2array l.1141 changed file to correct file name
- mflowwriter transientzone l.441 replaced val by vparms in drn (like ghb) to have double values
- importexport l.37 added a replace to remove potential \\n

7/6/20  OA
- qtVisualisation l.656 662, removed the value of the zone( too long for some zones)
- importExport impZones l.56 set visible to false to have a much more rapid import for zones
- modflowwriter/writetransizentZone replaced val by vparms[0] l456 461
- geometry l.587 aded for zones that result from several points but have a one cellsize

8/6/20 OA
- modflowwriter l. l.176 writeLpf store Ktemp l.502 in getpermscaled reuse Ktemp (when interpol it was recalc for each well)

9/6/20 OA
- myInterpol linterp l.309 313 added a division y the cell dimension for interpolation in non lin grids (forgotten before)

10/6/20 OA
- myInterpol linIntp removed l.288, (intp=False in any case)
- myInterpol linIntp l.306,310 added = to >

13/6/20 OA
- importExport impGridVar l.166 added and below modif ref in s to add a firs tline to get ysign (orientation of the matrix)
- geometry zone2array l.1135 and 1156 to add ysign to know the orientaiton of the matrix
- core importGridVar l.478 479 to include ysign
- in geomtry Zblock l.209 217, changed the mimit, it was too high

21/7/20  OA
- put back the BCF module in modflowKeywords (needed for Prams model)
- modflowKeywords l.97 in bcf put laycon to layint type

22/7/20 OA
- modflowWriter, adding back the bcf, l.35, 41 + l.160-184
- core l.571 added option any to condition,l. 514 added nb to getsinglevalue testCondition modified to allw the any option

23/7/20  OA
- core/testCondition modified to be able to consider both ik the index of the keyword and ilay

24/7/20  OA
- in mfkeywords modified sLINMETH to sLINMTH (same for NONLIN..) because the LINMETH kw was existing in nwt and -> pb in test conditions
- geometry : modified blockunstruct (very similar to blocregular) to use the intp option correctly
- geometry zone2array adde lin 1172 and modif 1171 to be able to use USG mesh during import
- geometry commented l.911 added l.919-920 to be much faster for lineunderpoly 
- modfloWriter/xyzone2Mflow usg part l.513 changed media from 0 to imed
- modfloWriter/zmesh l 399-402 removed, verificaiton of media is useless here

25/7/20 OA
- core l.782 and 785 in getValueLong, added top and botm for usg (better to use zblock than direct writing to be sure botm=top above)

26/7/20 OA
- geometry zone2array 1141 set ysign to -1 by default (modflow orientation) and added ocndition on l.1177

14/09/20 EV
- importExport l.35-52 modified to read 

21/09/20  OA
- modflowWriter l.183 added option (created 1/5/20) +l.632,647,658,664,675 for a word in usg
- addin, l.695 iper modif as a list for particles to consider modifs in thickness
- geometry l.310 adde block1 for several variables (drn..)
- geometry l.663-669 in gmeshstring added fault points
- geometry ptsForFaults l.786-812 + l.814 readGmeshout added option keywords+ modif l.834-852
- geometry l.1082 modfi for refer (there was an error when refer was None, same l.1119
- geometry l.1229 modfi : no interp for K, t can create pb (but this may not be a good solution for every model!!!)
- several modif in modflowUsg (still under work)

23/09/20 OA
- importExport impZones l.40 replace \\n by \ (\\ added automatically by python reader)

26/9/20  OA
- geometry cellsunderpoly l.977-79 modified to get cells under a vertical or horizontal line
- mtUsgKeywd transformed Iadsorb to Iadsrb (was taking Adsorb inside)

27/9/20  OA
- topbar l.154,155 modif to view curvariable for voronoi
- qtVisualization l.326,327 modif for usg visualization of polygons (was linked to very old version of usg)

28/9/20  OA
- mfUsgWriter writePcbFile l.320 added a for zmesh return

3/10/20   OA
- modflowUsg l. 399 in transformVor replaced -1 by len(ip2)

17/10/20   OA
- in importExport modif impGridVar added the possibility to have several variables in gvar files
- in modflowWriter writeTransientFile l.384 389 modif to write by array
- modflowWriter writeTransientArray fully modified

18/10/20  OA
- modflowWriter writeTransient and writeTransientArray fully rewritten
- modflowWriter write transientzones splitted in two (to be able to consider arrays) lot of transformations here
- modflowWriter l.90 to 106 removed the condiitons to write the name of the file to .nam because we would have to add a condition on arrays, this the user is responsible when chosinf group in lmod

21/10/20   OA
- core l.588-589 added in getValueLong for cases wehre the type is too short for nb of media

23/10/20   OA
- modflowwriter again changes in writeTransientArray
- in guishow commented l.58-61 in init : it was trying to find the type of model but before loading it, too early
- guishow in getarray2d l.222 replacer slef.mesh by core.mfUnstrcut
- same in guishow l.243 getpointvalue replace mesh

28/10/20  OA
- in modflowUsg add3d added the 3d extension for the angles
- in mtUsgkeywords replaced IADSORB by IADSRB (if not there is mixing ith ADSORB)
- in mtUsgKeywords added CRIV, CGHB fields
- mtUsgWirter l.33 changed chd to cchd file
- mtUgWrite l.129-131 in getConcInit removed (useless)
- geometry blockunstruct l.350-351 added the classical zone type was note added
- geometry cellsUnderPoly, l.980-981 modif because min and max were not correctly ordered
- mtUsgWriter l.30 31 to write rCH for both transp and pht3d
- mtUsgWriter l.253 change formatBlock, was not exisiting
- geometry blokUnstruct l.335 added if im is not a list of vaaues
- modflowWiter l.230 in rch removed a conditon : was givineg the same result
- mtUsgWriter in writeRchString added several lines for ocnidiotns of recharge similar for each time per

28/10/20 EV
- core.py l 320 change modflow usg exe name

20/11/20  OA
- modflowWriter line 419 commented because double inversion of matrix (already done in geometry)
- in topbar l.154 getCurVariable changed to USG for non structured mesh
- commented line 323-335 in qtVisualisation
- modif l.336 in qtVisualisation fo use it for modflow USG
- same place modif l.441 adding image in cnv for all models

26/11/20 EV
- multiPlot line 323 add int() 
- qtTopBar setupUi some modifications to ameliorate top bar visualisation
- qtTopBar lines 108, 109, 111-114, 186, 223-231, 234, 236 added to choose the variable to view for multivariable parameters drn, riv, ghb
- topbar lines 143, 150-155, 168-185 added to choose the variable to view for multivariable parameters drn, riv, ghb
- qtVisualisaiotn lines 17, 177, 344-346, 353 added to plot colorbar 
- modfloWriter writeTransientZones2 line 496, 501 what is flgTr ? Error : name 'flgTr' is not defined line 482 flgTr=None added 
- modfloWriter writeTransientFile line 400 why "if ext == 'wel': s +='  0  0'" ? Error when run modflow model with mf2k_PMwin.exe, line commented
- geometry zone2grid lines 522-524 added to choose the variable to view for multivariable parameters drn, riv, ghb

09/12/20 EV
- qtvisualization line 286 add line_width option to get thinner grid line (asked by dimitri)

10/12/20  OA
- modflowWriter l.428 readded [0] to have a list 
- modflowriter l.401 re-added the 0 0 but only for usg models

11/12/20 EV
- topbar getTransientArray lines 191-193 reverse array for correct visualisation

17/12/20 OA
- qtVisualisation changed large part of drawImage l.330-337 to represent paramter array in usg
- qtVisualisation modified drawImge 340-346
- qtVisualisation createGrid 268-272 the grid[0] for usg is now a polycollection

17/12/20 EV
- myInterpol/linIntp line 274 add x0 and y0 + cumsum(...) for when x0 and y0 are different from 0
- modflowKeywords add variable explanation line 116

17-18/12/20 OA
- core.py lines 200, 206-207, 275-277, 686-688, 694, 703-711, 713, 733 
- geometry.py lines 973-976
- modfloWriter lines 771-772, 969-971, 998-1002, 1006, 1008, 1012
- qtvisualization lines 112, 262, 265, 267-272, 284, 293-303, 335-345, 349-352, 411

07/01/2021 EV
- myInterpol linIntpFromGrid line 262 put 1e3 instead of 1e5 to increase tolerance
- modflowWiter writetransizentArray line 421 added condition to inverse yy coordinates for modflow usg (write files)
- topBar getTransientArray line 188 added condition to inverse yy coordinates for modflow usg (view option)
- qtVisualisation drawImage l.349 re-added this condition removed by OA

09/01/21  OA
- modflowUSG l.433 434 for the sides the center of the cell is the barycentre and not the triangulation node
- geometry cellsunderpoly l.985-990 all modified there missed cells for line zones
- geometry zmesh line 409-413 where commented put back (to get correct zones for layers)
- l.392 in geometry/zone2mesh added if zone is not in media
- geometry added function cellsUnerPolyOrd to get only the indices bu orderd along th eline
- corePtobs l.710 modif to have ordered result 
- coreptobs l 848-851 added for profiles in usg
- core l 83 added lcellInterp (to remember the indexes of cells in imported arrays)
- myinterpol linIntpFromGrid has a new inut core, at the beginning, changed everywhere it is called

14/01/21 EV
- modfloWriter writeTransientFile l.394 remove line break 
- modfloWriter writeTransientArray l.426 added a condition to inverse array when ysign = -1
- modfloWriter writeTransientZones1 l.451, 454, 468 added to take into account only zone where ltyp is not 'importarray'
- modfloWriter writeTransientZones1 l.478 replace nzones by lpts to take into account only zone where ltyp is not 'importarray'
- modfloWriter/xyzone2Mflow l.530-534 added to take into account only zone where ltyp is not 'importarray'
- topbar getTransientArray l.189, 191-194 added a condition to inverse array when ysign = -1

15/01/21 EV
- orti3dGui l.290 add onTickBox to check the box when open a model
- qtVisualisation l.270,287,288,297,299,301,355-357 added to make usg grid transparent in order to get visible map

16/1/20 OA
- geometry zone2mesh l.357 added opt for the variable number (to get the value of each variable in a line)
- geometry zone2mesh l.380 here we get the var nb
- addin grindInmodel l.523 reset the core.lcellInterp to [] to have lintinerp redoing the calcualtion
- core onPtObs added [0] to cellsUnderPolyOrd on l.710 to get only the values
- qtvisualization in drawImage the cnv[image] condition included in the rest (sometimes htere are no images)
- topbar l.150 to 157 & 160 considering usg for the variable to show and corecting to use the section
- geometry cellsunderpolyOrd l.1007 removed z value

18/1/21 OA
- modflowwriter l.546 and 552-559 modfi because the layers were not considered corectly

28/1/21 OA
- qgisGui l.69 & 94 added onGridMesh to be consistent with ortiGui but nothing is done pass)
- same for onWriteModflow (l.70 et 95)
- qgisVisu createGridLayer l.84 89 changed to allow the start with no CRS
- qtVisualisation redraw l.154 added an option to redraw for use in qgisVisu
- topbar onZoneCreate l.225 added line in redraw (for qgisVisu)

29/1/21  OA
- modflowUsg transformVor pb precision grid when large x0 and fine grid  l.323 /1e6 -> /1e9

3/2/21  OA
- geometry zmesh l.409-11 and 422 to get the minimal distance for a closed polygon from the frist cell
- topbar getCurVariable added l.150 and 160-161 if usg and 3D we just used directly zmesh and not getvaluelong

5/2/21 OA
- addin added l.146 a cond to corect for disu and sms :they don't exist in old models

6/2/21 OA
- modflowwriter l.554 zone2mdflow changed as idx has changes (already a list of zone nodes) to write drn and ghb
- geometry l.420 zmesh cahnged the form of return idx to be consistent the one for line below

12/2/21  OA
- modflowWriter l. 292,290,294 writeUZF change ktyp to arrfloat and other change to write the file
- in modflowkeywords key of uPW changed to from U_.. to U..
- in modflowWriter l.265 UPW self.nlay and l.269 format as dict

15/2/21 EV
- qtVisualisation drawObject l.192 remove cbar only when view checkbox is clicked 
- qtVisualisation l.271 added jet colour for modflow usg parameters
- qtVisualisation l.304 removed only line of grid when grid checkbox is clicked
- qtVisualisation l.350 added to update colorbar scale 
- qtVisualisation l.366 not used for unstrutured grid
- topBar l.162-163 added to view importarray modflow usg parameters
- guishow l.117,123 to draw grid under the parameter image

23/2/21  OA
- geometry zmesh l.427(added 428, removed 393) modified to have the same output (only cells that are below the the zone, not 0 and 1)
- modflowwriter xy2mdflow l.554 removed [0] ad l.553 zval -> zmat
- modflowwriter writeTransientZones2 l/511 modif zvar (for poly vairble) added to stage isntead of bottom

28/2/21  OA
- modflowWrtier xyzone2Mflow l.555 added because sometime the form of idx is different
- geometry zmesh l.420 cahnged to have one value 

13/3/21  OA
- core l.201 set mfUnstruct to false default opening

14/3/21 OA
- addin l.145 in setmfUnstruct removed the if bool
- modfloWriter in writeLPF l.196 added int(item) because sometimes it is a string
- in addin line removed from l.570 to l.239 : set3D()msut be accessed without a gui (ame fr 583 to 240)

15/03/21  OA
- menu line 38 to set the nb of layers/mediain th emodel

16/03/21 EV
- modfloWriter writeTransientZones1 l.532,535 added to take into account only zone where ltyp is not 'importarray' and more than 1 layer per media

19/03/21 EV